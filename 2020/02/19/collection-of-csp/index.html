<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>CSP合集 | ——Light!</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><meta name="generator" content="Hexo 4.1.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">CSP合集</h1><a id="logo" href="/.">——Light!</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">CSP合集</h1><div class="post-meta">Feb 19, 2020</div><a class="disqus-comment-count" href="/2020/02/19/collection-of-csp/#vcomment"><span class="valine-comment-count" data-xid="/2020/02/19/collection-of-csp/"></span><span> 条评论</span></a><div class="post-content"><p>听说考得好写在简历里很不错，正好也保持一下写题的水平。<br>仅含题解，代码详见<a href="https://github.com/Smlight/Programming-Contest/tree/master/CCFCSP" target="_blank" rel="noopener">Github</a>，喜欢的话点个star呀。</p>
<h2 id="201912"><a href="#201912" class="headerlink" title="201912"></a>201912</h2><h3 id="201912-1-报数"><a href="#201912-1-报数" class="headerlink" title="201912-1 报数"></a>201912-1 报数</h3><p>水题。按提意模拟一下。</p>
<h3 id="201912-2-回收站选址"><a href="#201912-2-回收站选址" class="headerlink" title="201912-2 回收站选址"></a>201912-2 回收站选址</h3><p>水题。由于一定要在垃圾处建垃圾站，枚举所有垃圾即可。</p>
<h3 id="201912-3-化学方程式"><a href="#201912-3-化学方程式" class="headerlink" title="201912-3 化学方程式"></a>201912-3 化学方程式</h3><p>算是词法解析题吧，啥都不管，直接top-down一把梭。</p>
<h3 id="201912-4-区块链（20分）"><a href="#201912-4-区块链（20分）" class="headerlink" title="201912-4 区块链（20分）"></a>201912-4 区块链（20分）</h3><p>感觉是个sb题，但是最开始数据结构没设计对，后面就改不对了，一直Wrong Answer。。。</p>
<h3 id="201912-5-魔数"><a href="#201912-5-魔数" class="headerlink" title="201912-5 魔数"></a>201912-5 魔数</h3><p>比赛的时候直接写了个暴力，就不贴代码了。<br>记$M=2009731336725594113$，当时的发现是$U_{0}^4 \equiv U_{1}^4 \equiv U_{2}^8 \equiv U_{3}^8 \equiv U_{4}^8 \equiv 1 \mod M$，有空请教一下大佬。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>又能白嫖CSP，果断报了。<br>七个人报名结果就两个人来考，除了我另一个是NOI金 &amp;&amp; World Final大佬，太GG了。<br>好像比上次多了些准备时间，345。</p>
<h2 id="201909"><a href="#201909" class="headerlink" title="201909"></a>201909</h2><h3 id="201909-1-小明种苹果"><a href="#201909-1-小明种苹果" class="headerlink" title="201909-1 小明种苹果"></a>201909-1 小明种苹果</h3><p>水题。按提意模拟一下。</p>
<h3 id="201909-2-小明种苹果（续）"><a href="#201909-2-小明种苹果（续）" class="headerlink" title="201909-2 小明种苹果（续）"></a>201909-2 小明种苹果（续）</h3><p>水题。背景跟第一题是一样的，多了一个强制更新的操作，记录一下，按提意统计即可。</p>
<h3 id="201909-3-字符画"><a href="#201909-3-字符画" class="headerlink" title="201909-3 字符画"></a>201909-3 字符画</h3><p>不算很大的模拟，就是读入要稍微处理一下，其实这题里面前景色没什么用，因为打空格显示出来的肯定是背景色，所以只要考虑背景色就行了。<br>考场上基本都写对了，就是写着写着忘记了题目里的一句话，然后就爆零了。。。</p>
<blockquote>
<p>如果下一个字符的颜色刚好与默认值完全相同，你应当直接使用重置转义序列，而非手动更改颜色</p>
</blockquote>
<h3 id="201909-4-推荐系统"><a href="#201909-4-推荐系统" class="headerlink" title="201909-4 推荐系统"></a>201909-4 推荐系统</h3><p>模拟题STL大法，拿50个Set（和1个PQ）随便搞搞就好了，具体可以看代码。<br>也有人只用了1个Set，时间比较紧，可能需要一些小技巧才能不超时。<br>最坑的是，题目描述（输出格式）给的是错的。。。参考<a href="https://blog.csdn.net/qq_45228537/article/details/102975873" target="_blank" rel="noopener">这位大佬的博客</a></p>
<h3 id="201909-5-城市规划"><a href="#201909-5-城市规划" class="headerlink" title="201909-5 城市规划"></a>201909-5 城市规划</h3><p>比赛的时候直接写了个暴力，就不贴代码了。<br>考虑单条边的贡献，贡献次数是两边点数的乘积，可以想到应该使用树形DP。$dp[i][j]$表示在以$i$为根的子树中选择$j$个重要点的最小花费。合并的时候不应把视角放在子树之间合并，分支数是不一定的，正确的做法是把$i$的每一个子树都合并到$i$的$dp$数组中，类似01背包，具体可以参考代码或者codeforces gym102222G。</p>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>到了新学校，发现CSP能白嫖，果断报了。<br>当天中午睡过头迟到了一会儿。<br>基本没准备，然后就只得了250。。。<br>CSP新出的这个“答卷下载”功能很不错，点赞。</p>
<h2 id="201712"><a href="#201712" class="headerlink" title="201712"></a>201712</h2><h3 id="201712-1-最小差值"><a href="#201712-1-最小差值" class="headerlink" title="201712-1 最小差值"></a>201712-1 最小差值</h3><p>水题。随便暴力一下。</p>
<h3 id="201712-2-游戏"><a href="#201712-2-游戏" class="headerlink" title="201712-2 游戏"></a>201712-2 游戏</h3><p>水题。<strong>BUT，</strong>读题的时候没读到<code>或其末位数（即数的个位）为k</code>，直接当约瑟夫做了。。。<br>最垃圾的做法就是拿数组标记一下，手动控制环。（没错我就是这么做的，写起来还是很快的</p>
<h3 id="201712-3-Crontab"><a href="#201712-3-Crontab" class="headerlink" title="201712-3 Crontab"></a>201712-3 Crontab</h3><p>还没读完题头都大了，写完第4题的第一稿才开始动手做。题目虽然很长，题意其实还是挺清晰的。<br>核心算法就是模拟，用了一次蔡勒公式算出星期几。输入处理简单来讲的话就是，先按‘ ’（空格）split，每段再按‘,’（逗号）split，每段再按‘-’（减号）split，然后再转换成非负整数标记到这个$crontab$对应的布尔数组，比如周一周二那就是在一周的数组中标记$1$和$2$，详见代码。最后从起始到终止一分钟一分钟往上加，每一分钟都枚举$n$个$crontab$判断一下是否满足。算了一下极限复杂度稍微有点方，不过看了一下输出不超过10000行，应该不会TLE。<br>思考加打代码估计有一个多小时。。。最后交上去一看，85分，难道还是TLE了？结果点进去一看是WA，有点懵逼。又读了一遍题，还是没啥发现。查了查别人代码发现好像英文缩写不区分大小写，然后回到题目里一看，中间有一句确实写着，唉。。。</p>
<h3 id="201712-4-行车路线"><a href="#201712-4-行车路线" class="headerlink" title="201712-4 行车路线"></a>201712-4 行车路线</h3><p><em>ps.</em> <code>201712-4.cpp</code>是60分代码，<code>201712-4S.cpp</code>是满分代码。<br>其实核心思想跟之前是差不多的。首先因为小道的费用（和的平方）没有可加性，所以就要把小道全都做成$tp$（传送卷轴）：启动$tp$以后可以花费一定的费用从一个点传送到另一个点。其次为了保证小道的费用不可加，要限制$tp$不能连续使用，连续使用时费用缩水（$1^2+1^2&lt;(1+1)^2$）。<br>具体实现是：首先用$Floyd$求出只用小道的任意点对间的距离，把这些距离的平方作为$tp$的费用存下来。然后用$SPFA$求单源最短路，分别用两个数组记录$tp$过来的（$dis1$）和从大道过来的（$dis0$），对于边$u\rightarrow  v$，$tp$到$u$的不能再通过$tp$到$v$，其它的不作限制。最后输出$min(dis0(n),dis1(n))$即可。<br><em>ps.</em> $Floyd+SPFA$有风险，一点不考虑常数优化的话交上去<strong>只有50分</strong>，比$dijkstra$乱搞还低。</p>
<h3 id="201712-5-商路（60分）"><a href="#201712-5-商路（60分）" class="headerlink" title="201712-5 商路（60分）"></a>201712-5 商路（60分）</h3><p>没剩太多时间，$n^2$直接上，小数据一分没丢。<em>yes!</em></p>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>最近的一场，比较真实地模拟了一下（最后才一起提交），结果才320分，5个题第2题最低，好SB啊。。。</p>
<ol>
<li><strong>仔细读题非常重要！</strong>第2题读对可以多70分，第3题完全读对可以多15分，这样勉强可以上400</li>
<li><strong>想不到正解要快速把握部分分。</strong>从中学开始就喜欢比赛时先想正解，但是水平又不太行，经常会花大把时间做无用功。第4题大概改写了两三遍，如果一开始就想着先按60分的写，第2/5题分配到的时间就会再多一点。时间一多，分数就有上涨的可能，特别是第2题我还看着$k$的数据范围奇怪了一会儿，最后还是没发现那句话。。。</li>
</ol>
<p>这两点说起来容易，其实还是挺有难度的，看来要多加训练了。。。</p>
<p><em>ps.好像认证是四个小时，我一直当三个小时练的，应该不会时间太吃紧了。。。</em></p>
<h2 id="201709"><a href="#201709" class="headerlink" title="201709"></a>201709</h2><h3 id="201709-1-打酱油"><a href="#201709-1-打酱油" class="headerlink" title="201709-1 打酱油"></a>201709-1 打酱油</h3><p>水题。随便贪心一下。</p>
<h3 id="201709-2-公共钥匙盒"><a href="#201709-2-公共钥匙盒" class="headerlink" title="201709-2 公共钥匙盒"></a>201709-2 公共钥匙盒</h3><p>小模拟，核心就是给所有事件排序。</p>
<h3 id="201709-3-JSON查询"><a href="#201709-3-JSON查询" class="headerlink" title="201709-3 JSON查询"></a>201709-3 JSON查询</h3><p>中等模拟，除了基本的split以外，涉及到了括号匹配的知识，只有同一层的括号它们才有可能组成一个JSON对象。<br>具体来讲，可以一边dfs一边建树，但是传个字符串递归总是很慢的，我的习惯是传一下左右边界。建树的节点都是整数标识，再用额外的数组存一下key-value。然后查询的时候一层一层地查，每层有以下几种情况：</p>
<ol>
<li>子节点没有对应的串，一定返回“NOTEXIST”</li>
<li>子节点有对应的串，查询串没有下一层，要么“STRING”要么“OBJECT”</li>
<li>子节点有对应的串且是对象，查询串有下一层，继续递归</li>
<li>子节点有对应的串且是字符串，查询串有下一层，返回“NOTEXIST”</li>
</ol>
<p><em>手动处理累手不累脑子</em></p>
<h3 id="201709-4-通信网络"><a href="#201709-4-通信网络" class="headerlink" title="201709-4 通信网络"></a>201709-4 通信网络</h3><p>刚读完懵逼了，写了一大堆乱七八糟的。。。<br>其实就是原图和反图bfs一下，然后可达点取个并集，是全集就给答案加一。</p>
<h3 id="201709-5-除法"><a href="#201709-5-除法" class="headerlink" title="201709-5 除法"></a>201709-5 除法</h3><p>50：暴力，每次缩小和求和都扫一遍<br>100：查到几个树状数组的做法，感觉复杂度完全不对，代码放了，正解待定。</p>
<h3 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h3><p>前4题检查了一遍，第5题打了个暴力，然后啥都不想干就交了，毕竟不是真实考试。。。好在前4题都过了，第5题暴力也很成功。<br><strong>第4题大改，检查很有必要。</strong></p>
<h3 id="201403-1-相反数"><a href="#201403-1-相反数" class="headerlink" title="201403-1 相反数"></a>201403-1 相反数</h3><p>不会重复，直接取绝对值找出现两次的。</p>
<h2 id="201312"><a href="#201312" class="headerlink" title="201312"></a>201312</h2><h3 id="201312-1-出现次数最多的数"><a href="#201312-1-出现次数最多的数" class="headerlink" title="201312-1 出现次数最多的数"></a>201312-1 出现次数最多的数</h3><p>水题。计数随便扫一下。</p>
<h3 id="201312-2-ISBN号码"><a href="#201312-2-ISBN号码" class="headerlink" title="201312-2 ISBN号码"></a>201312-2 ISBN号码</h3><p>水题。随便模拟一下。</p>
<h3 id="201312-3-最大的矩形"><a href="#201312-3-最大的矩形" class="headerlink" title="201312-3 最大的矩形"></a>201312-3 最大的矩形</h3><p>easy mode：枚举左端点，枚举右端点，顺便维护最小值，乘一下更新一下。<br>medium mode：考虑枚举一个点，并使该点就是区间中最低的，那么就是要求向左向右第一个低于当前点的。这件事情可以用单调栈来搞，正反各一遍。</p>
<h3 id="201312-4-有趣的数"><a href="#201312-4-有趣的数" class="headerlink" title="201312-4 有趣的数"></a>201312-4 有趣的数</h3><p>一眼看上去想搜索，但是仔细一想。。。是个数学题，稍微懵逼了一会儿，还是要慢慢来，列列式子。<br>因为0都在1之前，也就是说最后一个0在第一个1之前，那么它们可以看作一个整体。又因为每个数字至少出线一次，所以第一个一定是0。23同理。<br>设0和1的总位数是$x$，那么首先要在$n$位中选出$x$位，又因为整个串的第一位不能是0，所以应该是$n-1$位，即$C_{n-1}^{x}$。剩下的$n-x$位分给23。然后在这x位中，只要选一个位置断开，前面是0后面是1即可。枚举最末的0，除了不能在最后都可以（必须有1）。23同理。所以答案等于$C_{n-1}^{x} C_{x-1}^{1} C_{n-x-1}^{1}，2 \le x \le n-2$。$n$小于等于1000，阶乘打表或者组合数打表，随便搞搞。</p>
<h3 id="201312-5-I’m-stuck"><a href="#201312-5-I’m-stuck" class="headerlink" title="201312-5 I’m stuck!"></a>201312-5 I’m stuck!</h3><p>70：我以为$50^4$肯定能过的。。。直接写了个先起点bfs再每个格子bfs的。。。TLE<br>100：可以直接连边在图上和反图上搜。但是不太想重写，所以加了一个反向搜的函数，注意反向的时候判断的是要到的那个格子的连通方向。</p>
<h3 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h3><p>作为全系列第一场，非常简单，甚至不需要什么算法知识就能ak。</p>
</div><iframe src="/donate/?AliPayQR=/img/AliPayQR.jpg&amp;WeChatQR=null&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"><a href="/tags/ACM/">ACM</a></div><div class="post-nav"><a class="next" href="/2019/12/28/ball-box-problem/">八种放球问题</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' ? true : false;
var verify = 'false' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'DR7gqi2MfAfkdkSM54fFJdfW-gzGzoHsz',
  appKey:'QAk97tnQjom2O1HRj9MQjH4l',
  placeholder:'Just so so',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Crypto/" style="font-size: 15px;">Crypto</a> <a href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/" style="font-size: 15px;">蓝桥杯</a> <a href="/tags/Life/" style="font-size: 15px;">Life</a> <a href="/tags/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/" style="font-size: 15px;">组合数学</a> <a href="/tags/Bug/" style="font-size: 15px;">Bug</a> <a href="/tags/CTF/" style="font-size: 15px;">CTF</a> <a href="/tags/ACM/" style="font-size: 15px;">ACM</a> <a href="/tags/%E5%AF%86%E7%A0%81%E5%AD%A6/" style="font-size: 15px;">密码学</a> <a href="/tags/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E6%8A%A5%E5%91%8A/" style="font-size: 15px;">论文阅读报告</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 15px;">网络</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/" style="font-size: 15px;">分布式系统</a> <a href="/tags/PWN/" style="font-size: 15px;">PWN</a> <a href="/tags/Basic/" style="font-size: 15px;">Basic</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/02/19/collection-of-csp/">CSP合集</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/28/ball-box-problem/">八种放球问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/17/oblivious-transfer/">Oblivious Transfer</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/05/piece2/">Piece2</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/30/report-1/">Ananta: Cloud Scale Load Balancing 论文阅读报告</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/19/c-stack-frame2/">C语言函数调用栈（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/24/pwnable-practice/">pwnable初步体验</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/02/hhutraining4/">HHUACM 暑假专题 数学</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/19/c-stack-frame/">C语言函数调用栈（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/25/2018-gdut/">2018广东工业大学校赛题解</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.lovelywen.com/" title="wenwenla" target="_blank">wenwenla</a><ul></ul><a href="http://blog.csdn.net/miracle_ma" title="Mashaonan" target="_blank">Mashaonan</a><ul></ul><a href="http://www.calvinneo.com/" title="Calvin Neo" target="_blank">Calvin Neo</a><ul></ul><a href="http://www.cnblogs.com/forever97" title="Forever97" target="_blank">Forever97</a><ul></ul><a href="http://liziyang.space/" title="lizi" target="_blank">lizi</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">——Light!.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>